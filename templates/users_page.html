{% extends "base.html" %}

{% block content %}
  <!-- Users Page Header -->
  <section class="bg-gradient-to-br from-blue-600 via-blue-700 to-blue-800 text-white py-16 px-4 sm:px-6 lg:px-8 relative overflow-hidden">
    <!-- Radial highlight effect -->
    <div class="absolute top-0 right-0 w-96 h-96 bg-white opacity-5 rounded-full -mr-48 -mt-48"></div>
    <div class="max-w-7xl mx-auto relative z-10">
      <h1 class="text-5xl sm:text-6xl font-bold mb-2">{% trans %}Users{% endtrans %}</h1>
      <p class="text-lg text-blue-100">
        {% trans %}Browse all registered users and their achievements{% endtrans %}
      </p>
    </div>
  </section>

  <!-- Main Content -->
  <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <!-- Users Section -->
    <section class="mb-16">
      <!-- Controls -->
      <div class="flex flex-col sm:flex-row gap-4 mb-8">
        <div class="flex-1 flex gap-2">
          <select class="px-4 py-2 border-2 border-gray-300 rounded-lg font-medium transition hover:border-blue-600 focus:border-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 bg-white cursor-pointer" id="sortBy">
            <option value="name">{% trans %}Sort by Name{% endtrans %}</option>
            <option value="score">{% trans %}Sort by Score{% endtrans %}</option>
            <option value="rank">{% trans %}Sort by Rank{% endtrans %}</option>
            <option value="recent">{% trans %}Most Recent{% endtrans %}</option>
          </select>
        </div>
        <div class="flex-1 flex gap-2">
          <input
            type="text"
            class="flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg font-medium transition focus:border-blue-600 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50"
            id="searchUsers"
            placeholder="{% trans %}Search for matching users{% endtrans %}"
          />
          <button class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition hover:shadow-lg hover:-translate-y-0.5" id="searchBtn" aria-label="{% trans %}Search users{% endtrans %}">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>

      <!-- Users Table -->
      <div class="bg-white rounded-lg shadow-lg overflow-hidden border border-gray-200 mb-8">
        <table class="w-full border-collapse">
          <thead>
            <tr class="bg-gradient-to-r from-blue-600 to-blue-700 text-white">
              <th class="px-4 py-4 text-left font-bold uppercase tracking-wide text-sm">{% trans %}Rank{% endtrans %}</th>
              <th class="px-4 py-4 text-left font-bold uppercase tracking-wide text-sm">{% trans %}User{% endtrans %}</th>
              <th class="px-4 py-4 text-left font-bold uppercase tracking-wide text-sm">{% trans %}Score{% endtrans %}</th>
              <th class="px-4 py-4 text-left font-bold uppercase tracking-wide text-sm hidden lg:table-cell">{% trans %}Challenges Solved{% endtrans %}</th>
              <th class="px-4 py-4 text-left font-bold uppercase tracking-wide text-sm hidden md:table-cell">{% trans %}Affiliation{% endtrans %}</th>
              <th class="px-4 py-4 text-left font-bold uppercase tracking-wide text-sm hidden sm:table-cell">{% trans %}Country{% endtrans %}</th>
              <th class="px-4 py-4 text-center font-bold uppercase tracking-wide text-sm">{% trans %}Action{% endtrans %}</th>
            </tr>
          </thead>
          <tbody id="usersTableBody">
            <!-- Users will be populated here by JavaScript -->
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      <div class="flex justify-center items-center gap-6 flex-wrap mb-8">
        <button class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition hover:shadow-lg hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed" id="prevBtn">
          <i class="fas fa-chevron-left mr-2"></i>{% trans %}Previous{% endtrans %}
        </button>
        <div class="font-bold text-gray-800 text-lg">
          <span id="pageNumber">1</span> / <span id="totalPages">5</span>
        </div>
        <button class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition hover:shadow-lg hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed" id="nextBtn">
          {% trans %}Next{% endtrans %}<i class="fas fa-chevron-right ml-2"></i>
        </button>
      </div>
    </section>

    <hr class="my-12 border-gray-300">

    <!-- Statistics Section -->
    <section class="mb-16">
      <h2 class="text-4xl font-bold text-center text-gray-900 mb-10">{% trans %}User Statistics{% endtrans %}</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-white p-6 rounded-lg shadow-lg border-l-4 border-blue-600 hover:shadow-xl hover:-translate-y-2 transition-all">
          <div class="flex gap-4 items-start">
            <div class="w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center text-white text-2xl flex-shrink-0">
              <i class="fas fa-users"></i>
            </div>
            <div class="flex-1">
              <h3 class="text-sm font-bold uppercase tracking-wide text-gray-600 mb-2">{% trans %}Total Users{% endtrans %}</h3>
              <p class="text-3xl font-bold text-blue-600" id="totalUsers">0</p>
            </div>
          </div>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-lg border-l-4 border-blue-600 hover:shadow-xl hover:-translate-y-2 transition-all">
          <div class="flex gap-4 items-start">
            <div class="w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center text-white text-2xl flex-shrink-0">
              <i class="fas fa-trophy"></i>
            </div>
            <div class="flex-1">
              <h3 class="text-sm font-bold uppercase tracking-wide text-gray-600 mb-2">{% trans %}Active Users{% endtrans %}</h3>
              <p class="text-3xl font-bold text-blue-600" id="activeUsers">0</p>
            </div>
          </div>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-lg border-l-4 border-blue-600 hover:shadow-xl hover:-translate-y-2 transition-all">
          <div class="flex gap-4 items-start">
            <div class="w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center text-white text-2xl flex-shrink-0">
              <i class="fas fa-flag"></i>
            </div>
            <div class="flex-1">
              <h3 class="text-sm font-bold uppercase tracking-wide text-gray-600 mb-2">{% trans %}Avg. Score{% endtrans %}</h3>
              <p class="text-3xl font-bold text-blue-600" id="avgScore">0</p>
            </div>
          </div>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-lg border-l-4 border-blue-600 hover:shadow-xl hover:-translate-y-2 transition-all">
          <div class="flex gap-4 items-start">
            <div class="w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center text-white text-2xl flex-shrink-0">
              <i class="fas fa-globe"></i>
            </div>
            <div class="flex-1">
              <h3 class="text-sm font-bold uppercase tracking-wide text-gray-600 mb-2">{% trans %}Countries{% endtrans %}</h3>
              <p class="text-3xl font-bold text-blue-600" id="totalCountries">0</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <hr class="my-12 border-gray-300">

    <!-- Top Performers Section -->
    <section>
      <h2 class="text-4xl font-bold text-center text-gray-900 mb-10">{% trans %}Top Performers{% endtrans %}</h2>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- 1st Place -->
        <div class="relative bg-white p-8 rounded-lg shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-2 transition-all">
          <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-yellow-400 to-yellow-600"></div>
          <div class="w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center text-white text-2xl font-bold shadow-lg bg-gradient-to-br from-yellow-400 to-yellow-600">
            <div class="flex flex-col items-center">
              <i class="fas fa-medal text-lg mb-1"></i>
              <span class="text-xs">1st</span>
            </div>
          </div>
          <h3 class="text-2xl font-bold text-center text-gray-900 mb-2" id="top1Name">-</h3>
          <p class="text-xl font-bold text-center text-blue-600 mb-2" id="top1Score">0 {% trans %}points{% endtrans %}</p>
          <p class="text-center text-gray-600" id="top1Affiliation">-</p>
        </div>

        <!-- 2nd Place -->
        <div class="relative bg-white p-8 rounded-lg shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-2 transition-all">
          <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-gray-400 to-gray-600"></div>
          <div class="w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center text-white text-2xl font-bold shadow-lg bg-gradient-to-br from-gray-400 to-gray-600">
            <div class="flex flex-col items-center">
              <i class="fas fa-medal text-lg mb-1"></i>
              <span class="text-xs">2nd</span>
            </div>
          </div>
          <h3 class="text-2xl font-bold text-center text-gray-900 mb-2" id="top2Name">-</h3>
          <p class="text-xl font-bold text-center text-blue-600 mb-2" id="top2Score">0 {% trans %}points{% endtrans %}</p>
          <p class="text-center text-gray-600" id="top2Affiliation">-</p>
        </div>

        <!-- 3rd Place -->
        <div class="relative bg-white p-8 rounded-lg shadow-lg overflow-hidden hover:shadow-xl hover:-translate-y-2 transition-all">
          <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-orange-600 to-orange-800"></div>
          <div class="w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center text-white text-2xl font-bold shadow-lg bg-gradient-to-br from-orange-600 to-orange-800">
            <div class="flex flex-col items-center">
              <i class="fas fa-medal text-lg mb-1"></i>
              <span class="text-xs">3rd</span>
            </div>
          </div>
          <h3 class="text-2xl font-bold text-center text-gray-900 mb-2" id="top3Name">-</h3>
          <p class="text-xl font-bold text-center text-blue-600 mb-2" id="top3Score">0 {% trans %}points{% endtrans %}</p>
          <p class="text-center text-gray-600" id="top3Affiliation">-</p>
        </div>
      </div>
    </section>
  </main>
{% endblock %}

{% block scripts %}
  <!-- Your existing script tags here -->
{% endblock %}

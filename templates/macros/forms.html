{% macro render_extra_fields(fields, show_labels=True, show_optionals=True, show_descriptions=True) -%}
  {% for field in fields %}
    {% if field.field_type == "text" %}

      <div class="mb-4">
        {% if show_labels %}
          <label class="block text-sm font-bold text-gray-900 mb-2">
            <i class="fas fa-edit text-blue-600 mr-2"></i>{{ field.label.text }}
            {% if show_optionals %}
              {% if field.flags.required is false %}
                <small class="text-gray-500 font-normal">
                  {% trans %}(Optional){% endtrans %}
                </small>
              {% endif %}
            {% endif %}
          </label>
        {% endif %}

        {{ field(class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-white text-gray-900") }}

        {% if show_descriptions %}
          {% if field.description %}
            <small class="block mt-2 text-sm text-gray-500">
              <i class="fas fa-info-circle text-blue-500 mr-1.5"></i>{{ field.description }}
            </small>
          {% endif %}
        {% endif %}
      </div>

    {% elif field.field_type == "boolean" %}

      <div class="mb-4">
        <label class="block text-sm font-bold text-gray-900 mb-2">
          <i class="fas fa-toggle-on text-blue-600 mr-2"></i>{{ field.label.text }}
          {% if show_optionals %}
            {% if field.flags.required is false %}
              <small class="text-gray-500 font-normal">
                {% trans %}(Optional){% endtrans %}
              </small>
            {% endif %}
          {% endif %}
        </label>

        <div class="bg-gray-50 border border-gray-300 rounded-lg p-4">
          <div class="flex items-center">
            {{ field(class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500") }}
            <label class="ml-3 text-sm text-gray-700 cursor-pointer">
              {{ field.label.text }}
            </label>
          </div>

          {% if show_descriptions %}
            {% if field.description %}
              <small class="block mt-2 text-sm text-gray-500">
                <i class="fas fa-info-circle text-blue-500 mr-1.5"></i>{{ field.description }}
              </small>
            {% endif %}
          {% endif %}
        </div>
      </div>

    {% elif field.field_type == "select" %}

      <div class="mb-4">
        <label class="block text-sm font-bold text-gray-900 mb-2">
          <i class="fas fa-list text-blue-600 mr-2"></i>{{ field.label.text }}
          {% if show_optionals %}
            {% if field.flags.required is false %}
              <small class="text-gray-500 font-normal">
                {% trans %}(Optional){% endtrans %}
              </small>
            {% endif %}
          {% endif %}
        </label>

        {{ field(class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-white text-gray-900") }}

        {% if show_descriptions %}
          {% if field.description %}
            <small class="block mt-2 text-sm text-gray-500">
              <i class="fas fa-info-circle text-blue-500 mr-1.5"></i>{{ field.description }}
            </small>
          {% endif %}
        {% endif %}
      </div>
    {% endif %}
  {% endfor %}
{%- endmacro %}